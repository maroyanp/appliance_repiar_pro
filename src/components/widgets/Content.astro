---
import WidgetWrapper from "./WidgetWrapper.astro";
import { Image } from "astro:assets";
import Headline from "../ui/Headline.astro";
import type { ContentProps } from "../../types/types";

const {
    title,
    subtitle,
    tagline,
    description = [],
    image,
    imageAlt = "",
    id,
    isDark = false,
    classes = {},
    bg = await Astro.slots.render("bg"),
} = Astro.props as ContentProps;

const { container: containerClassProp = "", ...otherClasses } = classes;
---

<WidgetWrapper
    id={id}
    isDark={isDark}
    /* Parent allows up to 4xl width */
    containerClass={`max-w-4xl mx-auto px-4 ${containerClassProp}`}
    bg={bg}
    classes={otherClasses}
>
    <div class="text-center">
        <Headline
            title={title}
            tagline={tagline}
            classes={{
                container: "mb-8", 
                title: "text-4xl md:text-6xl font-bold mb-2",
            }}
        />

        {
            image && (
                <div class="max-w-2xl mx-auto mb-10">
                    <Image
                        src={image}
                        alt={imageAlt}
                        class="rounded-3xl shadow-2xl border border-border/50 aspect-video object-cover w-full"
                    />
                </div>
            )
        }

        <div class="w-full text-center">
             <div class="text-lg md:text-xl text-muted-foreground font-medium leading-relaxed max-w-none">
                {subtitle || (Array.isArray(description) ? description.join(" ") : description)}
             </div>
        </div>

        

        <slot />
    </div>
</WidgetWrapper>